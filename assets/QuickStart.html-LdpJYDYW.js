import{_ as n,c as a,a as e,o as t}from"./app-Bah7_sEf.js";const p={};function l(i,s){return t(),a("div",null,s[0]||(s[0]=[e(`<h1 id="f-快速入门" tabindex="-1"><a class="header-anchor" href="#f-快速入门"><span>F#快速入门</span></a></h1><blockquote><p>这里是F#快速入门，假定了您了解了什么是F#，F#有什么作用及其适用场景，这里只是讲一下怎么跑起来之类的简单问题</p></blockquote><h2 id="开发环境" tabindex="-1"><a class="header-anchor" href="#开发环境"><span>开发环境</span></a></h2><ul><li>SDK：.Net</li><li>编辑器：VS Code + Ionide扩展</li></ul><h2 id="交互式窗口" tabindex="-1"><a class="header-anchor" href="#交互式窗口"><span>交互式窗口</span></a></h2><p>有时只是简单的想运行一段代码执行某项计算或者其他的什么功能，不想要浏览创建、打包和分发应用程序的过程。就像Python的交互模式一样，F#也提供了相同体验的交互窗口</p><p>F# 交互窗口是一种交互式编程和脚本环境。 通过控制台或独立脚本文件实时编写和运行代码，从而简化了从想法到代码的过程。</p><p>启动交互式窗口</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">dotnet fsi</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>执行一行代码，需要以两个分号<code>;;</code>结尾，交互式窗口认为<code>;;</code>是一行代码的结束，而不是通过换行</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token operator">&gt;</span> printfn <span class="token string">&quot;Hello World!&quot;</span><span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>退出交互式窗口使用<code>#q</code>或 <code>#quit</code> 命令。</p><p>交互式窗口也可以运行脚本文件，F#脚本文件扩展名为<code>.fsx</code>，脚本文件使用标准F#语法，不再以<code>;;</code>作为语句的结尾</p><h2 id="创建f-程序项目" tabindex="-1"><a class="header-anchor" href="#创建f-程序项目"><span>创建F#程序项目</span></a></h2><p>这里只介绍使用.NET CLI，因为使用VS这种IDE工具直接点就是了，使用.NET CLI还是要看一下命令的</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">dotnet new console <span class="token parameter variable">--language</span> F<span class="token comment"># -o MyFSharpApp</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这里创建了一个控制台项目，指定了编程语言是F#，项目名是MyFSharpApp，可以看到这和创建C#项目相同，只是通过<code>--language F#</code>指定编程语言是F#，默认情况下.NET项目使用C#语言</p><p>运行F#项目，这就与运行C#项目一样了，因为这些操作都是基于.NET平台的，只是编程语言不同，一样使用<code>dotnet run</code>运行</p><h2 id="f-的基本语法" tabindex="-1"><a class="header-anchor" href="#f-的基本语法"><span>F#的基本语法</span></a></h2><h3 id="变量" tabindex="-1"><a class="header-anchor" href="#变量"><span>变量</span></a></h3><p>F#中使用let关键字定义变量，需要注意的是，F#中的变量与通常的编程语言不大一样，它的变量默认是不可变的，也就是F#中定义的变量，默认是只读的</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token comment">// 声明变量name，初始值为Chris</span></span>
<span class="line"><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">&quot;Chris&quot;</span></span>
<span class="line"><span class="token comment">// 默认情况下变量在初始化后不能再变更它的值</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可变变量</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token comment">// 声明为mutable的变量才可以重新赋值</span></span>
<span class="line"><span class="token keyword">let</span> <span class="token keyword">mutable</span> name <span class="token operator">=</span> <span class="token string">&quot;Chris&quot;</span></span>
<span class="line"><span class="token comment">// 为name变量重新赋值，重新赋值不是用的等号，而是使用 &lt;-</span></span>
<span class="line">name <span class="token operator">&lt;-</span> <span class="token string">&quot;Luis&quot;</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>F#是强类型编程语言，上面没有指定变量类型，是因为编译器进行了类型推断，自动赋予了初始类型，这能够简化很多，也可以手动明确类型</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token keyword">let</span> name<span class="token punctuation">:</span><span class="token class-name">string</span> <span class="token operator">=</span> <span class="token string">&quot;Chris&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>有时候需要进行类型转换，有两种方法，一种是使用.NET中的转换方法，一种是内置类型提供的方法</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token comment">// 初始类型为string</span></span>
<span class="line"><span class="token keyword">let</span> myString <span class="token operator">=</span> <span class="token string">&quot;3&quot;</span></span>
<span class="line"><span class="token comment">// 使用.NET类型提供的方法</span></span>
<span class="line"><span class="token keyword">let</span> myInt <span class="token operator">=</span> System<span class="token punctuation">.</span>Int32<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>myString<span class="token punctuation">)</span></span>
<span class="line"><span class="token comment">// 使用内置类型提供的方法</span></span>
<span class="line"><span class="token keyword">let</span> myInt <span class="token operator">=</span> int myString</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="输入与输出" tabindex="-1"><a class="header-anchor" href="#输入与输出"><span>输入与输出</span></a></h3><p>不管什么语言，输出到屏幕都是非常常用的功能，比如说JavaScript的console.log，C语言中的print，C++中的cout，F#中也有对应的输出到屏幕的功能</p><h4 id="printf" tabindex="-1"><a class="header-anchor" href="#printf"><span>printf</span></a></h4><p>打印到 stdout 内联（没有换行符）</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">&quot;Luis&quot;</span></span>
<span class="line"><span class="token keyword">let</span> company <span class="token operator">=</span> <span class="token string">&quot;Microsoft&quot;</span></span>
<span class="line">printf $<span class="token string">&quot;Name: {name}, Company: {company}&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="printfn" tabindex="-1"><a class="header-anchor" href="#printfn"><span>printfn</span></a></h4><p>printfn：它将打印到 stdout（添加一个换行符）</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">&quot;Luis&quot;</span></span>
<span class="line"><span class="token keyword">let</span> company <span class="token operator">=</span> <span class="token string">&quot;Microsoft&quot;</span></span>
<span class="line">printfn $<span class="token string">&quot;Name: {name}, Company: {company}&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="console-writeline" tabindex="-1"><a class="header-anchor" href="#console-writeline"><span>Console.WriteLine</span></a></h4><p>来自.NET平台的通用方法，在C#中用得很多，但是在F#中能用但不推荐用</p><h4 id="printf和printfn输出内容的格式设置" tabindex="-1"><a class="header-anchor" href="#printf和printfn输出内容的格式设置"><span>printf和printfn输出内容的格式设置</span></a></h4><p>在上面的例子中，使用了插值语法，这在C#中很熟悉，也就是使用<code>$</code>在字符串的开头，字符串内可以使用大括号加变量名的方式内嵌变量</p><p>除了这一种格式化还可以使用位置参数，语法与string.Format相同<code>string.Format(&quot;My name is {0} and I live in {1}&quot;, &quot;Chris&quot;, &quot;UK&quot;)</code>，字符串内部使用大括号加数字，补充变量参数</p><p>最为常用的格式设置是使用说明符 <a href="https://learn.microsoft.com/zh-cn/dotnet/fsharp/language-reference/plaintext-formatting#format-specifiers-for-printf" target="_blank" rel="noopener noreferrer">格式说明符明细</a></p><p>F#格式说明符与C语言的格式说明符很像，可以参照</p><p>常见的格式说明符，比如说<code>%d</code>表示整数之类的</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token comment">// F#并没有使用括号的，而是空格分隔，很多人一开始都不适应，看起来怪怪的</span></span>
<span class="line">printf <span class="token string">&quot;Age: %i&quot;</span> <span class="token number">65</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>至于输入，F#并没有特别定义，而是使用.NET的通用方法<code>Console.ReadLine()</code>和<code>Console.ReadKey()</code></p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line">System<span class="token punctuation">.</span>Console<span class="token punctuation">.</span>Write <span class="token string">&quot;Type a value:&quot;</span></span>
<span class="line"><span class="token keyword">let</span> str <span class="token operator">=</span> System<span class="token punctuation">.</span>Console<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">printfn <span class="token string">&quot;You typed %s&quot;</span> str</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="运算符" tabindex="-1"><a class="header-anchor" href="#运算符"><span>运算符</span></a></h3><table><thead><tr><th>运算符</th><th>描述</th></tr></thead><tbody><tr><td>+</td><td>两个值相加</td></tr><tr><td>-</td><td>两个值相减</td></tr><tr><td>*</td><td>两个值相乘</td></tr><tr><td>/</td><td>左侧值与右侧值相除</td></tr><tr><td>%</td><td>称为“取模”，左侧值与右侧值相除得到余数</td></tr><tr><td>&lt;&gt;</td><td>检查两个值是否不相等</td></tr><tr><td>=</td><td>检查两个值是否相等</td></tr></tbody></table><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token keyword">let</span> no <span class="token operator">=</span> <span class="token number">10</span></span>
<span class="line"><span class="token comment">// 先计算no % 2 = 0，判断no是否是偶数，然后再将结果赋初值给isDivisibleByTwo</span></span>
<span class="line"><span class="token keyword">let</span> isDivisibleByTwo <span class="token operator">=</span> no <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line">printfn <span class="token string">&quot;Divisible by two %b&quot;</span> isDivisibleByTwo</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从上面的例子可以看出来，F#的等号看起来有问题，有时候是赋初值，有时候是判断相等，尤其是在同一行的时候，让人有点看不懂，像其他编程语言的<code>==</code>判断相等，<code>=</code>赋初值更容易理解</p><h3 id="条件运算符" tabindex="-1"><a class="header-anchor" href="#条件运算符"><span>条件运算符</span></a></h3><p>if是常见的条件运算符，F#的if语句与C#有一点不同，包含一个then，then表示符合条件操作，而在C#中使用的是紧跟在if后面的语句表示正确</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token comment">// 接收一个输入</span></span>
<span class="line"><span class="token keyword">let</span> input <span class="token operator">=</span> Console<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment">// 强制转换输入的字符串为int，F#允许隐藏变量</span></span>
<span class="line"><span class="token keyword">let</span> input <span class="token operator">=</span> int input</span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> input <span class="token operator">&gt;</span> <span class="token number">5</span></span>
<span class="line"><span class="token comment">// 当then后面有语句时执行后面的语句，下一行的代码不再是then的内容，这其实是缩进决定的，</span></span>
<span class="line"><span class="token comment">// 推荐的写法还是then跟在条件的后面，执行的代码块由缩进匹配，像下面的elif一样</span></span>
<span class="line"><span class="token keyword">then</span> printfn <span class="token string">&quot;输入大于5&quot;</span></span>
<span class="line"><span class="token comment">// 当then后面直接换行后，根据缩进决定then所执行的语句范围</span></span>
<span class="line"><span class="token keyword">elif</span> input <span class="token operator">&gt;</span> <span class="token number">3</span> <span class="token keyword">then</span></span>
<span class="line">    printfn <span class="token string">&quot;输入大于&quot;</span></span>
<span class="line">    printfn <span class="token string">&quot;then块&quot;</span></span>
<span class="line"><span class="token keyword">else</span> </span>
<span class="line">    printfn <span class="token string">&quot;什么都不满足&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从上面的例子可以看到，缩进对F#的执行流程影响很大，有时候</p><h3 id="循环" tabindex="-1"><a class="header-anchor" href="#循环"><span>循环</span></a></h3><p>F#有三种循环：for...in、for...to、while...do</p><h4 id="for-in" tabindex="-1"><a class="header-anchor" href="#for-in"><span>for...in</span></a></h4><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token number">5</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token keyword">for</span> i <span class="token keyword">in</span> list <span class="token keyword">do</span></span>
<span class="line">   printf <span class="token string">&quot;%d &quot;</span> i</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>for...in会遍历整个可枚举集合，与C#中的foreach类似</p><h4 id="for-to" tabindex="-1"><a class="header-anchor" href="#for-to"><span>for...to</span></a></h4><p>for...to提供初值，达到边界后停止循环</p><p>for...to有两个版本</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token comment">// 使用to每次自增标志变量</span></span>
<span class="line"><span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">to</span> <span class="token number">10</span> <span class="token keyword">do</span></span>
<span class="line">  printfn <span class="token string">&quot;%i &quot;</span> i  <span class="token comment">// prints 1 2 3 4 5 6 7 8 9 10</span></span>
<span class="line"><span class="token comment">// 使用downto每次自减标志变量</span></span>
<span class="line"><span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">10</span> <span class="token keyword">downto</span> <span class="token number">1</span> <span class="token keyword">do</span></span>
<span class="line">  printfn <span class="token string">&quot;%i&quot;</span> i  <span class="token comment">// prints 10 9 8 7 6 5 4 3 2 1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从上面的例子来看，for...to对应C#中的<code>for(var i = 1; i &lt;= 10; i++)</code>和<code>for(var i = 10;i &gt;= 1; i++)</code></p><h4 id="while-do" tabindex="-1"><a class="header-anchor" href="#while-do"><span>while...do</span></a></h4><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token keyword">let</span> <span class="token keyword">mutable</span> num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">while</span> num<span class="token operator">&lt;=</span><span class="token number">10</span> <span class="token keyword">do</span></span>
<span class="line">    printfn $<span class="token string">&quot;当前num:{num}&quot;</span></span>
<span class="line">    num <span class="token operator">&lt;-</span> num<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>F#的while...do和绝大多数语言的while一样，满足条件则执行，直到不满足条件</p><h3 id="函数" tabindex="-1"><a class="header-anchor" href="#函数"><span>函数</span></a></h3><p>函数是众多编程语言中的一个基本构建基块，在其他编程语言中也有叫方法的</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token keyword">let</span> <span class="token operator">&lt;</span><span class="token keyword">function</span> name<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>parameters<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token keyword">function</span> body<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>从参数的语法可以看出，F#的语法让习惯了C#、Java之类编程语言的人很不适应，函数名与参数之间并没有括号，而是简单的用空格隔开，这种语法还是需要适应</p><p>F#中的函数可以不指定函数的返回值类型，也不存在return关键字，F#中函数最后一行的信息就是返回的内容</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token comment">// 声明add函数</span></span>
<span class="line"><span class="token keyword">let</span> add a b <span class="token operator">=</span> a <span class="token operator">+</span> b</span>
<span class="line"><span class="token comment">// 调用add函数</span></span>
<span class="line"><span class="token keyword">let</span> sum <span class="token operator">=</span> add <span class="token number">2</span> <span class="token number">2</span> </span>
<span class="line"><span class="token comment">// 会报错，因为上一行代码已经让add函数自动类型推断为a、b参数均为整数</span></span>
<span class="line"><span class="token comment">// 这一行提供的两个字符串参数不正确</span></span>
<span class="line"><span class="token keyword">let</span> concat <span class="token operator">=</span> add <span class="token string">&quot;hello&quot;</span> <span class="token string">&quot;world&quot;</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>类型推断很智能，但是并不总是能正确推断，因此也可以明确指定类型</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token comment">// 求和后转换为字符串，参数a、b为int类型，返回值为string类型</span></span>
<span class="line"><span class="token keyword">let</span> add <span class="token punctuation">(</span>a<span class="token punctuation">:</span><span class="token class-name">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>b<span class="token punctuation">:</span><span class="token class-name">int</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> string <span class="token operator">=</span> string <span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="函数模式" tabindex="-1"><a class="header-anchor" href="#函数模式"><span>函数模式</span></a></h3><h4 id="组合" tabindex="-1"><a class="header-anchor" href="#组合"><span>组合</span></a></h4><p>组合：组合就是将多个函数合并到一个函数中</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token comment">// 加2</span></span>
<span class="line"><span class="token keyword">let</span> add2 a <span class="token operator">=</span> a <span class="token operator">+</span> <span class="token number">2</span></span>
<span class="line"><span class="token comment">// 乘3 </span></span>
<span class="line"><span class="token keyword">let</span> multiply3 a <span class="token operator">=</span> a <span class="token operator">*</span> <span class="token number">3</span> </span>
<span class="line"><span class="token comment">// 组合两个函数</span></span>
<span class="line"><span class="token keyword">let</span> addAndMultiply a <span class="token operator">=</span></span>
<span class="line">    <span class="token keyword">let</span> sum <span class="token operator">=</span> add2 a</span>
<span class="line">    <span class="token keyword">let</span> product <span class="token operator">=</span> multiply3 sum</span>
<span class="line">    product</span>
<span class="line"></span>
<span class="line">printfn <span class="token string">&quot;%i&quot;</span> <span class="token punctuation">(</span>addAndMultiply <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 12</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>F#提供了更简单的方式组合方式</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token keyword">let</span> add2 a <span class="token operator">=</span> a <span class="token operator">+</span> <span class="token number">2</span></span>
<span class="line"><span class="token keyword">let</span> multiply3 a <span class="token operator">=</span> a <span class="token operator">*</span> <span class="token number">3</span> </span>
<span class="line"><span class="token comment">// 同上，先调用</span></span>
<span class="line"><span class="token keyword">let</span> addAndMultiply <span class="token operator">=</span> add2 <span class="token operator">&gt;&gt;</span> multiply3</span>
<span class="line"></span>
<span class="line">printfn <span class="token string">&quot;%i&quot;</span> <span class="token punctuation">(</span>addAndMultiply <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 12</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="管道" tabindex="-1"><a class="header-anchor" href="#管道"><span>管道</span></a></h4><p>管道：管道以一个值开始，然后依次调用多个函数，并使用一个函数的输出作为下一个函数的输入</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">;</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token number">1</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token keyword">let</span> sort <span class="token punctuation">(</span>list<span class="token punctuation">:</span> <span class="token class-name">int</span> list<span class="token punctuation">)</span> <span class="token operator">=</span> List<span class="token punctuation">.</span>sort list</span>
<span class="line"><span class="token keyword">let</span> print <span class="token punctuation">(</span>list<span class="token punctuation">:</span> <span class="token class-name">int</span> list<span class="token punctuation">)</span><span class="token operator">=</span> List<span class="token punctuation">.</span><span class="token function">iter</span><span class="token punctuation">(</span><span class="token keyword">fun</span> x<span class="token operator">-&gt;</span> printfn <span class="token string">&quot;item %i&quot;</span> x<span class="token punctuation">)</span> list</span>
<span class="line"></span>
<span class="line">list <span class="token operator">|&gt;</span> sort <span class="token operator">|&gt;</span> print <span class="token comment">// item 1 item 3 item 4</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="管道还是组合" tabindex="-1"><a class="header-anchor" href="#管道还是组合"><span>管道还是组合？</span></a></h4><p>管道与组合在功能上是相似的，假设要依次调用N个函数，使用管道的做法是</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line">parameter <span class="token operator">|&gt;</span> fun1 <span class="token operator">|&gt;</span> fun2 <span class="token operator">|&gt;</span> fun3 …… <span class="token operator">|&gt;</span> funN</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果这个调用只用一次还好，如果要多次使用呢？这时候可以考虑使用组合</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token keyword">let</span> compositionN <span class="token operator">=</span> fun1 <span class="token operator">&gt;&gt;</span> fun2 <span class="token operator">&gt;&gt;</span> fun3 …… <span class="token operator">&gt;&gt;</span> funN</span>
<span class="line"><span class="token comment">// 第一次调用多个函数</span></span>
<span class="line">compositionN parameter</span>
<span class="line"></span>
<span class="line">……</span>
<span class="line"></span>
<span class="line"><span class="token comment">// 第二次调用多个函数</span></span>
<span class="line">compositionN parameter</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="集合" tabindex="-1"><a class="header-anchor" href="#集合"><span>集合</span></a></h3><p>F#提供了三种类型的集合：列表、数组、序列</p><h4 id="列表" tabindex="-1"><a class="header-anchor" href="#列表"><span>列表</span></a></h4><p>列表是有序且不可变的元素集</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token comment">// 将元素括在中括号 ([]) 中以定义列表。 列表项由分号 (;) 分隔</span></span>
<span class="line"><span class="token keyword">let</span> cards <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Ace&quot;</span><span class="token punctuation">;</span> <span class="token string">&quot;King&quot;</span><span class="token punctuation">;</span> <span class="token string">&quot;Queen&quot;</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//将每个元素放在新行上，无需使用分号</span></span>
<span class="line"><span class="token keyword">let</span> cards <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">  <span class="token string">&quot;Ace&quot;</span></span>
<span class="line">  <span class="token string">&quot;King&quot;</span></span>
<span class="line">  <span class="token string">&quot;Queen&quot;</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在列表中，元素的类型必须相同</p><p>创建列表时可以使用范围运算符</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token comment">// 创建 1 2 3 4 5的列表</span></span>
<span class="line"><span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token number">1</span> <span class="token operator">..</span> <span class="token number">5</span> <span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>列表是不可变的，对列表的操作会返回一个新列表</p><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token keyword">let</span> cards <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Ace&quot;</span><span class="token punctuation">;</span> <span class="token string">&quot;King&quot;</span><span class="token punctuation">;</span> <span class="token string">&quot;Queen&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token comment">//  通过使用双冒号 (::) 运算符，可以将项追加到列表开头</span></span>
<span class="line"><span class="token keyword">let</span> newList <span class="token operator">=</span> <span class="token string">&quot;Jack&quot;</span> <span class="token operator">::</span> cards <span class="token comment">// &quot;Jack&quot;, &quot;Ace&quot;, &quot;King&quot;, &quot;Queen&quot; </span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">let</span> cards <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Ace&quot;</span><span class="token punctuation">;</span> <span class="token string">&quot;King&quot;</span><span class="token punctuation">;</span> <span class="token string">&quot;Queen&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token keyword">let</span> otherCardList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Jack&quot;</span><span class="token punctuation">;</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token comment">// 使用 @ 运算符添加整个列表</span></span>
<span class="line"><span class="token keyword">let</span> fullList <span class="token operator">=</span> cards @ otherCardList <span class="token comment">// &quot;Ace&quot;, &quot;King&quot;, &quot;Queen&quot;, &quot;Jack&quot;, &quot;10&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">let</span> cards <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Ace&quot;</span><span class="token punctuation">;</span> <span class="token string">&quot;King&quot;</span><span class="token punctuation">;</span> <span class="token string">&quot;Queen&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token keyword">let</span> otherCardList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;10&quot;</span><span class="token punctuation">;</span> <span class="token string">&quot;9&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token comment">// 使用append函数追加到列表开头，append函数适用于数组和序列集合</span></span>
<span class="line"><span class="token keyword">let</span> fullList <span class="token operator">=</span> cards <span class="token operator">|&gt;</span> List<span class="token punctuation">.</span>append <span class="token punctuation">[</span><span class="token string">&quot;Jack&quot;</span><span class="token punctuation">]</span> <span class="token comment">// &quot;Jack&quot;, &quot;Ace&quot;, &quot;King&quot;, &quot;Queen&quot;</span></span>
<span class="line"><span class="token keyword">let</span> fullList <span class="token operator">=</span> cards <span class="token operator">|&gt;</span> List<span class="token punctuation">.</span>append otherCardList <span class="token comment">// &quot;10&quot;, &quot;9&quot;, &quot;Ace&quot;, &quot;King&quot;, &quot;Queen&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>F# 中的列表是作为链接列表实现的，内置了一些属性</p><table><thead><tr><th>属性</th><th>描述</th></tr></thead><tbody><tr><td>Head</td><td>列表中的第一个元素</td></tr><tr><td>Empty</td><td>返回一个空列表，可以在想要创建空列表时使用</td></tr><tr><td>IsEmpty</td><td>检查当前列表是否为空</td></tr><tr><td>Item</td><td>检索指定位置（从零开始的索引）的当前元素</td></tr><tr><td>Length</td><td>返回列表中的项数</td></tr><tr><td>Tail</td><td>返回列表中除第一个元素之外的所有元素</td></tr></tbody></table><div class="language-fsharp line-numbers-mode" data-highlighter="prismjs" data-ext="fs" data-title="fs"><pre><code><span class="line"><span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token number">4</span><span class="token punctuation">]</span></span>
<span class="line">list<span class="token punctuation">.</span>Item <span class="token number">1</span> <span class="token comment">// 2</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div>`,103)]))}const c=n(p,[["render",l]]),r=JSON.parse('{"path":"/FSharp/QuickStart.html","title":"F#快速入门","lang":"zh-CN","frontmatter":{"title":"F#快速入门","sidebar":"auto"},"headers":[{"level":2,"title":"开发环境","slug":"开发环境","link":"#开发环境","children":[]},{"level":2,"title":"交互式窗口","slug":"交互式窗口","link":"#交互式窗口","children":[]},{"level":2,"title":"创建F#程序项目","slug":"创建f-程序项目","link":"#创建f-程序项目","children":[]},{"level":2,"title":"F#的基本语法","slug":"f-的基本语法","link":"#f-的基本语法","children":[{"level":3,"title":"变量","slug":"变量","link":"#变量","children":[]},{"level":3,"title":"输入与输出","slug":"输入与输出","link":"#输入与输出","children":[]},{"level":3,"title":"运算符","slug":"运算符","link":"#运算符","children":[]},{"level":3,"title":"条件运算符","slug":"条件运算符","link":"#条件运算符","children":[]},{"level":3,"title":"循环","slug":"循环","link":"#循环","children":[]},{"level":3,"title":"函数","slug":"函数","link":"#函数","children":[]},{"level":3,"title":"函数模式","slug":"函数模式","link":"#函数模式","children":[]},{"level":3,"title":"集合","slug":"集合","link":"#集合","children":[]}]}],"git":{"updatedTime":1699930677000,"contributors":[{"name":"吴俊城","email":"wujunchengman@163.com","commits":4}]},"filePathRelative":"FSharp/QuickStart.md"}');export{c as comp,r as data};
