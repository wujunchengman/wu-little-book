import{_ as n,c as s,a,o as i}from"./app-Bah7_sEf.js";const l={};function t(c,e){return i(),s("div",null,e[0]||(e[0]=[a(`<h1 id="debian12安装后的初始化工作" tabindex="-1"><a class="header-anchor" href="#debian12安装后的初始化工作"><span>Debian12安装后的初始化工作</span></a></h1><h2 id="server" tabindex="-1"><a class="header-anchor" href="#server"><span>Server</span></a></h2><blockquote><p>最近服务器用了Debian12，简单记一下需要进行的初始化操作。在安装时，我只选择了标准系统工具和SSH Server</p></blockquote><h3 id="配置dns" tabindex="-1"><a class="header-anchor" href="#配置dns"><span>配置DNS</span></a></h3><p>DNS可以在安装时配置，但是Debian默认会先尝试着自动 DHCP 网络配置，如果成功了这一步并不会提示，所以我也没在这里配置到，这里将后面怎么配的</p><p>当请求一个域名需要DNS进行解析时，会请求<code>/etc/resolv.conf</code>设置的DNS，如果 resolvconf 软件包没有安装，&quot;/etc/resolv.conf&quot; 是一个静态文件。如果安装了，它是一个符号链接。</p><p>Debian默认不安装resolvconf，可以手动安装一下，安装完之后的<code>resolv.conf</code>带有注释，如果没安装则是空白的</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 指定DNS服务器为114.114.114.114</span></span>
<span class="line">nameserver <span class="token number">114.114</span>.114.114</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="禁用ipv6" tabindex="-1"><a class="header-anchor" href="#禁用ipv6"><span>禁用IPv6</span></a></h3><p>公司的路由器使用IPv6有问题，所以停用了IPv6，但是不知道怎么的Debian会自己获取到IPv6地址，因此需要禁用IPv6（或者优先用IPv4，这里选择直接禁用）</p><p>编辑<code>/etc/sysctl.conf</code>文件，添加以下内容</p><div class="language-conf line-numbers-mode" data-highlighter="prismjs" data-ext="conf" data-title="conf"><pre><code><span class="line">net.ipv6.conf.all.disable_ipv6 = 1</span>
<span class="line">net.ipv6.conf.default.disable_ipv6 = 1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>保存文件后运行 <code>sudo sysctl -p</code> 来应用新的系统参数。这样就禁用了 IPv6</p><p>这个配置会将所有网卡的IPv6都禁用了，使用的时候需要注意这种行为是不是自己需要的</p><h3 id="配置sudo用户" tabindex="-1"><a class="header-anchor" href="#配置sudo用户"><span>配置Sudo用户</span></a></h3><p>Debian默认没有设置Sudo用户，甚至没有安装Sudo软件包，因此需要先通过su命令切换到root用户，然后安装sudo软件包</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 切换为root用户，如果本身是root用户，可以忽略</span></span>
<span class="line"><span class="token function">su</span></span>
<span class="line"><span class="token comment"># 将penguin用户添加到sudoers中</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;penguin  ALL=(ALL) ALL&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/sudoers</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 将penguin用户添加到sudoers中，并且penguin在使用sudo获得管理员权限时无需输入密码</span></span>
<span class="line"><span class="token comment"># echo &quot;penguin  ALL=(ALL) NOPASSWD:ALL&quot; &gt;&gt; /etc/sudoers</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,17)]))}const r=n(l,[["render",t]]),o=JSON.parse('{"path":"/Linux/Debian12Init.html","title":"Debian12初始化","lang":"zh-CN","frontmatter":{"title":"Debian12初始化"},"headers":[{"level":2,"title":"Server","slug":"server","link":"#server","children":[{"level":3,"title":"配置DNS","slug":"配置dns","link":"#配置dns","children":[]},{"level":3,"title":"禁用IPv6","slug":"禁用ipv6","link":"#禁用ipv6","children":[]},{"level":3,"title":"配置Sudo用户","slug":"配置sudo用户","link":"#配置sudo用户","children":[]}]}],"git":{"updatedTime":1713952888000,"contributors":[{"name":"吴俊城","email":"wujunchengman@163.com","commits":2}]},"filePathRelative":"Linux/Debian12Init.md"}');export{r as comp,o as data};
