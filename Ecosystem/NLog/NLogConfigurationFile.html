<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>NLog配置文件 | 学习笔记</title><meta name="description" content="NLog配置文件">
    <link rel="preload" href="/assets/style-CRfrqQDA.css" as="style"><link rel="stylesheet" href="/assets/style-CRfrqQDA.css">
    <link rel="modulepreload" href="/assets/app-Bah7_sEf.js"><link rel="modulepreload" href="/assets/NLogConfigurationFile.html-BS3zVPnF.js">
    <link rel="prefetch" href="/assets/index.html-DM3wkPxz.js" as="script"><link rel="prefetch" href="/assets/index.html-Bg771IZX.js" as="script"><link rel="prefetch" href="/assets/CrossCompile.html-DXUkpFBa.js" as="script"><link rel="prefetch" href="/assets/description.html-BpniBsB5.js" as="script"><link rel="prefetch" href="/assets/index.html-OVYEdNvW.js" as="script"><link rel="prefetch" href="/assets/introduction.html-rn5P7wex.js" as="script"><link rel="prefetch" href="/assets/MassDataTransfer.html-CwATBTyi.js" as="script"><link rel="prefetch" href="/assets/StringDisplayWidth.html-3Q88987b.js" as="script"><link rel="prefetch" href="/assets/UseRecursionSparingly.html-DL9-GkJV.js" as="script"><link rel="prefetch" href="/assets/QuickStart.html-LdpJYDYW.js" as="script"><link rel="prefetch" href="/assets/index.html-B7QQTIm6.js" as="script"><link rel="prefetch" href="/assets/Debian12Init.html-xSzXkkOK.js" as="script"><link rel="prefetch" href="/assets/DualNetworkConfiguration.html-1Ie3LWpN.js" as="script"><link rel="prefetch" href="/assets/Rsync.html-CJcAI1a0.js" as="script"><link rel="prefetch" href="/assets/index.html-D5aJZhLp.js" as="script"><link rel="prefetch" href="/assets/index.html-SSr5wUrR.js" as="script"><link rel="prefetch" href="/assets/Scope.html-Cs4tDzQI.js" as="script"><link rel="prefetch" href="/assets/ReactRouter6.html-BZ294b1a.js" as="script"><link rel="prefetch" href="/assets/UpdateToUmiJs4.html-IDVSYLNy.js" as="script"><link rel="prefetch" href="/assets/ControlFlow.html-ixl8zJ2s.js" as="script"><link rel="prefetch" href="/assets/DataTypes.html-lIz5vrgP.js" as="script"><link rel="prefetch" href="/assets/Function.html-RQ6vJtv7.js" as="script"><link rel="prefetch" href="/assets/Option.html-CuxWHmYQ.js" as="script"><link rel="prefetch" href="/assets/Ownership.html-Ek5Wn_ch.js" as="script"><link rel="prefetch" href="/assets/Project.html-B1kgm-7d.js" as="script"><link rel="prefetch" href="/assets/Struct.html-Dy_9II7I.js" as="script"><link rel="prefetch" href="/assets/variables.html-C8HQgHQ2.js" as="script"><link rel="prefetch" href="/assets/GitQuickStart.html-CcJTWZJI.js" as="script"><link rel="prefetch" href="/assets/AuthenticationAndAuthorization.html-CQw9luNB.js" as="script"><link rel="prefetch" href="/assets/CustomizeAuthenticationScheme.html-CvmUl2TR.js" as="script"><link rel="prefetch" href="/assets/HelloAuthentication.html-BEB3VR7u.js" as="script"><link rel="prefetch" href="/assets/JwtAuthenticationScheme.html-DU9kk5xO.js" as="script"><link rel="prefetch" href="/assets/MultipleAuthenticationSchemes.html-DlnDZmkK.js" as="script"><link rel="prefetch" href="/assets/Sample.html-C7zuIPan.js" as="script"><link rel="prefetch" href="/assets/Startup.html-BNcm1m0R.js" as="script"><link rel="prefetch" href="/assets/GetControllerAndActionByAssembly.html-tLc8PZS_.js" as="script"><link rel="prefetch" href="/assets/WeChatPay.html-DDsvSyxP.js" as="script"><link rel="prefetch" href="/assets/QuickStart.html-EjKixPsE.js" as="script"><link rel="prefetch" href="/assets/Polly.html-DSP310kp.js" as="script"><link rel="prefetch" href="/assets/CreateAView.html-BuzZGWUJ.js" as="script"><link rel="prefetch" href="/assets/CreatedModelAndViewModel.html-boZ3nnjx.js" as="script"><link rel="prefetch" href="/assets/CreatingANewProject.html-DbLmr9mQ.js" as="script"><link rel="prefetch" href="/assets/Install.html-DcSox3qW.js" as="script"><link rel="prefetch" href="/assets/QuickStart.html-C4euxUnx.js" as="script"><link rel="prefetch" href="/assets/IoTDbQuickStart.html-CAbio-sy.js" as="script"><link rel="prefetch" href="/assets/QuickStart.html-Da4D70oj.js" as="script"><link rel="prefetch" href="/assets/QuickStart.html-BQb6IR7r.js" as="script"><link rel="prefetch" href="/assets/WorkPattern.html-DjeL9Emf.js" as="script"><link rel="prefetch" href="/assets/Basic.html-Bpy-N66-.js" as="script"><link rel="prefetch" href="/assets/Install.html-ZXpwriqf.js" as="script"><link rel="prefetch" href="/assets/CustomAttribute.html-DjQzeYEG.js" as="script"><link rel="prefetch" href="/assets/CallingFrontend.html-DmQXx5LS.js" as="script"><link rel="prefetch" href="/assets/CallingRust.html-htKbZ28J.js" as="script"><link rel="prefetch" href="/assets/20220608_DynamicListView.html-BrYY_Lh-.js" as="script"><link rel="prefetch" href="/assets/index.html-DAVdyrOr.js" as="script"><link rel="prefetch" href="/assets/Note.html-Cw4Ho3s7.js" as="script"><link rel="prefetch" href="/assets/Install.html-CZfcy0QF.js" as="script"><link rel="prefetch" href="/assets/WriteInDatabase.html-D3wZRrJS.js" as="script"><link rel="prefetch" href="/assets/BranchOperate.html-DXDlBKur.js" as="script"><link rel="prefetch" href="/assets/ReadOpenSoourceProject.html-CHhunnrC.js" as="script"><link rel="prefetch" href="/assets/LoadBalance.html-OjjBHb8C.js" as="script"><link rel="prefetch" href="/assets/NginxProxyLocalServer.html-CD2-Berm.js" as="script"><link rel="prefetch" href="/assets/Install.html-BHvWXo23.js" as="script"><link rel="prefetch" href="/assets/ConfigurationFile.html-DSayZTL6.js" as="script"><link rel="prefetch" href="/assets/HelloWorld.html-B-sDIFGA.js" as="script"><link rel="prefetch" href="/assets/Index.html-B3unt_My.js" as="script"><link rel="prefetch" href="/assets/Note.html-BHDkbplT.js" as="script"><link rel="prefetch" href="/assets/Simplified.html-D7PQnNbf.js" as="script"><link rel="prefetch" href="/assets/a-little-mqtt-server.html-HJMgIYE2.js" as="script"><link rel="prefetch" href="/assets/index.html-BbtZdtXU.js" as="script"><link rel="prefetch" href="/assets/message-process.html-D3gDA1lh.js" as="script"><link rel="prefetch" href="/assets/VueApiStyle.html-CVN0fill.js" as="script"><link rel="prefetch" href="/assets/VueSingleFileComponents.html-CxgVXu44.js" as="script"><link rel="prefetch" href="/assets/VueTemplate.html-DNlM7F8u.js" as="script"><link rel="prefetch" href="/assets/404.html-rwNWeWoZ.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><!----><span class="vp-site-name" aria-hidden="true">学习笔记</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/Tools/GitQuickStart.html" aria-label="Git"><!---->Git<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label=".NET"><span class="title">.NET</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label=".NET"><span class="title">.NET</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/CSharp/" aria-label="C#"><!---->C#<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/FSharp/QuickStart.html" aria-label="F#"><!---->F#<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/AspNetCore/" aria-label="AspNetCore"><!---->AspNetCore<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/EntityFrameworkCore.html" aria-label="EF Core"><!---->EF Core<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="客户端"><span class="title">客户端</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="客户端"><span class="title">客户端</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Client/WPF/" aria-label="WPF"><!---->WPF<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Client/Tauri/" aria-label="Tauri"><!---->Tauri<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="后端生态"><span class="title">后端生态</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="后端生态"><span class="title">后端生态</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Backend/IoTDB/IoTDbQuickStart.html" aria-label="IoTDB"><!---->IoTDB<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Backend/Redis/Install.html" aria-label="Redis"><!---->Redis<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Backend/Docker/Install.html" aria-label="Docker"><!---->Docker<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Backend/Kubernetes/QuickStart.html" aria-label="Kubernetes"><!---->Kubernetes<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Backend/RabbitMQ/WorkPattern.html" aria-label="RabbitMQ"><!---->RabbitMQ<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="生态项目"><span class="title">生态项目</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="生态项目"><span class="title">生态项目</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>日志</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link route-link-active auto-link" href="/Ecosystem/NLog/NLogConfigurationFile.html" aria-label="NLog的配置文件"><!---->NLog的配置文件<!----></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Linux/" aria-label="Linux"><!---->Linux<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Infrastructure/" aria-label="基础设施"><!---->基础设施<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="前端篇"><span class="title">前端篇</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="前端篇"><span class="title">前端篇</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Vue</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/Vue/VueSingleFileComponents.html" aria-label="Vue基础"><!---->Vue基础<!----></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vscode.html" aria-label="VS Code的插件与玩法"><!---->VS Code的插件与玩法<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Rust/variables.html" aria-label="Rust"><!---->Rust<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Python/Scope.html" aria-label="Python"><!---->Python<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Java篇"><span class="title">Java篇</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Java篇"><span class="title">Java篇</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Java/Maven/Install.html" aria-label="Maven"><!---->Maven<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Java/SpringBoot/" aria-label="Spring Boot"><!---->Spring Boot<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Projects/" aria-label="实际项目"><!---->实际项目<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://cnblogs.com/wujuncheng" aria-label="我的博客" rel="noopener noreferrer" target="_blank"><!---->我的博客<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/Tools/GitQuickStart.html" aria-label="Git"><!---->Git<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label=".NET"><span class="title">.NET</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label=".NET"><span class="title">.NET</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/CSharp/" aria-label="C#"><!---->C#<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/FSharp/QuickStart.html" aria-label="F#"><!---->F#<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/AspNetCore/" aria-label="AspNetCore"><!---->AspNetCore<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/EntityFrameworkCore.html" aria-label="EF Core"><!---->EF Core<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="客户端"><span class="title">客户端</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="客户端"><span class="title">客户端</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Client/WPF/" aria-label="WPF"><!---->WPF<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Client/Tauri/" aria-label="Tauri"><!---->Tauri<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="后端生态"><span class="title">后端生态</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="后端生态"><span class="title">后端生态</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Backend/IoTDB/IoTDbQuickStart.html" aria-label="IoTDB"><!---->IoTDB<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Backend/Redis/Install.html" aria-label="Redis"><!---->Redis<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Backend/Docker/Install.html" aria-label="Docker"><!---->Docker<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Backend/Kubernetes/QuickStart.html" aria-label="Kubernetes"><!---->Kubernetes<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Backend/RabbitMQ/WorkPattern.html" aria-label="RabbitMQ"><!---->RabbitMQ<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="生态项目"><span class="title">生态项目</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="生态项目"><span class="title">生态项目</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>日志</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link route-link-active auto-link" href="/Ecosystem/NLog/NLogConfigurationFile.html" aria-label="NLog的配置文件"><!---->NLog的配置文件<!----></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Linux/" aria-label="Linux"><!---->Linux<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Infrastructure/" aria-label="基础设施"><!---->基础设施<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="前端篇"><span class="title">前端篇</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="前端篇"><span class="title">前端篇</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Vue</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/Vue/VueSingleFileComponents.html" aria-label="Vue基础"><!---->Vue基础<!----></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/vscode.html" aria-label="VS Code的插件与玩法"><!---->VS Code的插件与玩法<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Rust/variables.html" aria-label="Rust"><!---->Rust<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Python/Scope.html" aria-label="Python"><!---->Python<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Java篇"><span class="title">Java篇</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Java篇"><span class="title">Java篇</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Java/Maven/Install.html" aria-label="Maven"><!---->Maven<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Java/SpringBoot/" aria-label="Spring Boot"><!---->Spring Boot<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/Projects/" aria-label="实际项目"><!---->实际项目<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://cnblogs.com/wujuncheng" aria-label="我的博客" rel="noopener noreferrer" target="_blank"><!---->我的博客<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">NLog <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/Ecosystem/NLog/Install.html" aria-label="Asp.netCore中安装启用Nlog"><!---->Asp.netCore中安装启用Nlog<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/Ecosystem/NLog/NLogConfigurationFile.html" aria-label="NLog配置文件"><!---->NLog配置文件<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/Ecosystem/NLog/WriteInDatabase.html" aria-label="使用NLog将日志写入数据库"><!---->使用NLog将日志写入数据库<!----></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><h1 id="nlog-配置文件" tabindex="-1"><a class="header-anchor" href="#nlog-配置文件"><span>NLog 配置文件</span></a></h1><blockquote><p>因为很多文章都只讲讲怎么在.Net 项目中记录日志，但是这只是简单的能记录，日志不光要记录，还要记好，于是我再讲讲 NLog 的配置文件，让大家可以更符合需求的记录日志</p></blockquote><h2 id="nlog-配置文件的位置" tabindex="-1"><a class="header-anchor" href="#nlog-配置文件的位置"><span>NLog 配置文件的位置</span></a></h2><ul><li>NLog 必须要有配置文件才会工作，否则它将什么都不做</li><li>如果同时存在多个 NLog 配置文件，则以找到的第一个为准，当 NLog 找到配置文件之后，会停止查找，而不是继续查找覆盖前面的配置文件</li></ul><h3 id="nlog-默认查找配置文件的位置" tabindex="-1"><a class="header-anchor" href="#nlog-默认查找配置文件的位置"><span>NLog 默认查找配置文件的位置</span></a></h3><h4 id="独立应用程序" tabindex="-1"><a class="header-anchor" href="#独立应用程序"><span>独立应用程序</span></a></h4><ul><li>应用程序的<code>app.config</code>配置文件</li><li>应用程序所在目录下的<code>.nlog</code>后缀文件(暂未验证文件名是否必须与应用程序名相同)</li><li>应用程序所在目录下的<code>NLog.config</code>文件</li><li>NLog.dll 所在目录下的<code>Nlog.dll.nlog</code>（仅当 GAC 中没安装 NLog 时生效）注：GAC 还不清楚是什么的缩写，但是这条目前没有遇到过</li></ul><h4 id="asp-net-应用程序-以前的-asp-net-必须依赖-iis-运行-所以单独提出来" tabindex="-1"><a class="header-anchor" href="#asp-net-应用程序-以前的-asp-net-必须依赖-iis-运行-所以单独提出来"><span>ASP.NET 应用程序（以前的 ASP.NET 必须依赖 IIS 运行，所以单独提出来）</span></a></h4><ul><li>Web 应用程序的<code>web.config</code>配置文件</li><li>web.config 所在目录下的<code>web.nlog</code>文件</li><li>Web 应用程序所在目录下的<code>NLog.config</code>文件</li><li>NLog.dll 所在目录下的<code>Nlog.dll.nlog</code>（仅当 GAC 中没安装 NLog 时生效）注：GAC 还不清楚是什么的缩写，但是这条目前没有遇到过</li></ul><h4 id="appsettings-json" tabindex="-1"><a class="header-anchor" href="#appsettings-json"><span>appsettings.json</span></a></h4><p>NLog5 可以将配置文件写在 appsettings.json 文件中，这是 .Net Core/.Net 项目默认的配置文件，同时支持根据环境变量加载不同的配置</p><p>要让 NLog 从 appsettings.json 文件中读取配置需要 NLog.Extensions.Logging 或者 NLog.Web.AspNetCore 插件</p><h3 id="nlog-显式指定配置文件" tabindex="-1"><a class="header-anchor" href="#nlog-显式指定配置文件"><span>NLog 显式指定配置文件</span></a></h3><p>用的很少，几乎没必要，如果是 Xamarin、Android 项目可以看一看<a href="https://github.com/NLog/NLog/wiki/Explicit-NLog-configuration-loading" target="_blank" rel="noopener noreferrer">Explicit NLog configuration loading</a></p><h2 id="详解-nlog-配置文件" tabindex="-1"><a class="header-anchor" href="#详解-nlog-配置文件"><span>详解 Nlog 配置文件</span></a></h2><p>独立的 NLog 配置文件是一个 XML 格式的文件，无论是什么文件后缀。如果 Nlog 的配置信息共用了应用程序的配置文件，则以应用程序的配置文件为准，也就是说，如果将 NLog 的配置写在 appsettings.json 文件中，则配置将以 Json 格式表达。虽然可能配置文件的格式不同，但是配置文件的层级结构和规则是相同的</p><p>先看一个最简单的 Nlog 配置文件</p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nlog</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.nlog-project.org/schemas/NLog.xsd<span class="token punctuation">&quot;</span></span></span>
<span class="line">      <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>targets</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token comment">&lt;!-- 日志写入文件file.txt --&gt;</span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logfile<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xsi:</span>type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>File<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fileName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file.txt<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">        <span class="token comment">&lt;!-- 日志输出到控制台 --&gt;</span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logconsole<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xsi:</span>type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Console<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>targets</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rules</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token comment">&lt;!-- 日志输出规则，写入到前面定义的logconsole Target --&gt;</span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>logger</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*<span class="token punctuation">&quot;</span></span> <span class="token attr-name">minlevel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Info<span class="token punctuation">&quot;</span></span> <span class="token attr-name">writeTo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logconsole<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">        <span class="token comment">&lt;!-- 日志输出规则，写入到前面定义的logfile Target --&gt;</span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>logger</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*<span class="token punctuation">&quot;</span></span> <span class="token attr-name">minlevel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Debug<span class="token punctuation">&quot;</span></span> <span class="token attr-name">writeTo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logfile<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rules</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nlog</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这个配置文件中，nlog 空间下有两个元素，一个是 targets，一个是 rules。</p><p>其中 targets 定义一组 target，每一个 target 有 name 和 xsi:type 属性，它们分别定义了这个 target 的名字，和日志输出的位置。在这个最简单的 NLog 配置文件中定义的 Target，logfile 将日志写入文件，logconsole 将日志写入控制台。</p><p>rules 定义了一组日志输出规则，它决定了要输出哪些日志，以及日志输出到哪里。这里定义了两条规则，他们的 name 都是<code>*</code>，.Net 中的日志会记录类的完成名称（包括命名空间），当 name 指定为<code>*</code>的时候，就会去匹配所有的日志信息；minlevel 则指定了日志输出的最低级别，writeTo 指定调用对应的 target 进行日志输出。所以这两条 logger 规则会匹配所有的日志，然后将日志级别高等等于 Info 的按照 logconsole 的规则写入到控制台，将日志级别高于等于 Debug 的按照 logfile 的规则写入到文件。</p><p>读完这个最简单 NLog 配置文件，也算对 NLog 的配置有一点了解了，那么下面我们就详细讲讲 NLog 的配置</p><h3 id="nlog-的顶层元素" tabindex="-1"><a class="header-anchor" href="#nlog-的顶层元素"><span>NLog 的顶层元素</span></a></h3><p>从前面的例子可以看到，nlog 命名空间下会有 targets 和 rules 元素，除了这两个元素，nlog 的顶层元素还有 extensions、include、variable 三个元素，nlog 的顶层空间一共有五个元素，其中 targets 和 rules 元素是必须的，而 extensions、include、variable 三个元素是可选的，下面就来详解这几个 nlog 的顶层元素</p><h4 id="targets" tabindex="-1"><a class="header-anchor" href="#targets"><span>Targets</span></a></h4><p>targets 包含多个 target，每一个 target 都是一条日志输出规则。每一个 target 都必须有 name 和 type（当使用了 xml 命名空间时为 xsi:type）属性，name 指名规则的名字，在 rules 的记录规则中根据对应的名字匹配对应的输出规则，而 type 则指定了日志记录到何处。</p><p>NLog 自带了多种 target，同时也可以自定义 target，这里只讲讲几种常见的，其他的也都是差不多的，相信大家都是可以举一反三的，为了方便，也是因为我一般都是简单的写入文件，其他的也用的少</p><p>每一个 target，除了 name 和 type，还根据不同的 type 会有不同属性，比如说 type 为 File 会有 fileName 属性，而 type 为 Console 则是没有 fileName 这个属性的</p><h5 id="console" tabindex="-1"><a class="header-anchor" href="#console"><span>Console</span></a></h5><p>Console 是最简单的 Target，因为只是简单的将日志信息输出到控制台，它的属性非常的少。</p><table><thead><tr><th>属性名</th><th>值类型</th><th>描述</th><th>是否必须</th></tr></thead><tbody><tr><td>xsi:type</td><td>Console</td><td>日志输出类型</td><td>是</td></tr><tr><td>name</td><td>String</td><td>target规则名称</td><td>是</td></tr><tr><td>layout</td><td>Layout</td><td>日志模板，如果不指定则使用默认Layout（后面详细说Layout怎么写）</td><td>是</td></tr><tr><td>footer</td><td>Layout</td><td>日志尾模板（后面详细说Layout怎么写）</td><td>否</td></tr><tr><td>header</td><td>Layout</td><td>日志头模板（后面详细说Layout怎么写）</td><td>否</td></tr><tr><td>encoding</td><td>Encoding</td><td>编码格式，比如&quot;utf-8&quot;</td><td>否</td></tr><tr><td>StdErr</td><td>Boolean</td><td>是否应使用错误流(stderr)而不是输出流(stdout)，默认为False，NLog5以前该属性名为error</td><td>否</td></tr><tr><td>detectConsoleAvailable</td><td>Boolean</td><td>在未检测到控制台是是否禁用，默认为False</td><td>否</td></tr><tr><td>writeBuffer</td><td>Boolean</td><td>使用Console.Write代替Console。WriteLine，与AysncWrapper结合使用时，将允许批处理并且会有双倍的性能。在云功能中重定向控制台时很有用，默认为False</td><td>否</td></tr><tr><td>autoFlush</td><td>Boolean</td><td>在每次控制台写入后执行显示刷新。如果已重定向到未启用自动刷新的自定义控制台流，则很有用，默认值为False</td><td>否</td></tr></tbody></table><p>注：默认layout模板：<code>${longdate}|${level:uppercase=true}|${logger}|${message:withexception=true}</code></p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: wujunchengman@163.com">吴俊城</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/Ecosystem/NLog/Install.html" aria-label="Asp.netCore中安装启用Nlog"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Asp.netCore中安装启用Nlog</span></div></a><a class="route-link auto-link next" href="/Ecosystem/NLog/WriteInDatabase.html" aria-label="使用NLog将日志写入数据库"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>使用NLog将日志写入数据库</span></div></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-Bah7_sEf.js" defer></script>
  </body>
</html>
